
<html>
    <head>
        <meta charset="UTF-8">
        <title>Lernraumfüllstand</title>
        <script src="js/jquery.js"></script>
        <script src="js/d3.min.js"></script>
        <script src="js/epoch.min.js"></script>
        <script src="js/moment.js"></script>
        <link rel="stylesheet" type="text/css" href="css/epoch.min.css">
        <style>
div.plot {
    width: 1000px;
    height: 300px;
}
h2 {
    display: inline;
    margin-right: 10px;
}
        </style>
        <script>
$(document).ready(function() {
    moment.locale('en', {
        calendar: {
            sameDay: '[Today] HH:mm',
            lastDay: 'ddd HH:mm',
            nextDay: '[Tomorrow] HH:mm',
            lastWeek: 'ddd HH:mm',
            nextWeek: '[next] ddd HH:mm',
            sameElse: 'L HH:mm'
        }
    });
    $.get('../parsed/sparkassenforum.json', function(roomData) {
        $('body').append('<h2>' + 'Sparkassenforum' + '</h2>');
        var lastValue = roomData[0].values[roomData[0].values.length - 1];
        $('body').append('<span>' + lastValue.y + ' users ' + moment(lastValue.time).calendar());
        //$('body').append('<div class="plot"/>');
        $('body').append('<div id="plot" style="width: 100%; height: 300px" class="epoch"/>');
        $('#plot').epoch({
            type: 'time.line',
            data: roomData,
            ticks: {time: 100},
            tickFormats: {bottom: function(d) { return moment(d).calendar(); }},
            axes: ['left', 'bottom'],
            windowSize: 1008, // 7*24*60/10
            historySize: 1008
        });
    });
});
        </script>
    </head>
    <body>
        <h1>Lernraumfüllstand</h1>
    </body>
</html>
